webpackJsonp([53],{L2L0:function(t,e){},TJZj:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=s("6iV/"),n=(i=o)&&i.__esModule?i:{default:i};e.default={name:"bindTel",data:function(){return{login:{},countdown:60,codeVal:"获取验证码",disabled:!1,timer:null}},mounted:function(){},methods:{isTels:function(){return this.login.tel&&""!=this.login.tel?!!/^1[3|4|5|6|7|8|9][0-9]\d{4,8}$/.test(this.login.tel)||(layer.msg("电话不正确"),this.$refs.telEl.focus(),!1):(layer.msg("电话不能为空"),this.$refs.telEl.focus(),!1)},setCodeFn:function(){this.isTels()&&(this.setTime(),this.$axios.post("/user/login/send-sms",{tel:this.login.tel}).then(function(t){3e3==t.data.code&&layer.msg(t.data.message),2e3==t.data.code&&layer.msg("发送成功，请耐心等候！")}))},setTime:function(){var t=this;if(0===this.countdown)return this.disabled=!1,this.codeVal="免费获取验证码",this.countdown=60,void clearTimeout(this.timer);this.disabled=!0,this.codeVal="重新发送("+this.countdown+")",this.countdown--,this.timer=setTimeout(function(){t.setTime()},1e3)},codeFn:function(){return this.login.codes&&""!==this.login.codes?!!/^\d+$/.test(this.login.codes)||(layer.msg("验证码不正确"),this.$refs.codeEl.focus(),!1):(layer.msg("验证码不能为空"),this.$refs.codeEl.focus(),!1)},submitFn:function(){var t=this;if(this.isTels()&&this.codeFn()){var e={tel:this.login.tel,telcode:this.login.codes};this.$axios.post("/user/login/bind-phone",n.default.stringify(e)).then(function(e){3e3!=e.data.code?2e3==e.data.code&&(layer.msg(e.data.message),setTimeout(function(){t.$router.back()},2e3)):layer.msg(e.data.message)})}}}}},Tqmd:function(t,e,s){"use strict";var i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bindTel"},[s("h2",[t._v("绑定手机号")]),t._v(" "),s("form",{staticClass:"form_group"},[s("div",{staticClass:"input_group"},[s("label",{attrs:{for:"tel"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.login.tel,expression:"login.tel"}],ref:"telEl",staticClass:"btn_group",attrs:{type:"tel",name:"tel",id:"tel",placeholder:"请输入手机号"},domProps:{value:t.login.tel},on:{input:function(e){e.target.composing||t.$set(t.login,"tel",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"input_group"},[s("label",{attrs:{for:"codes"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.login.codes,expression:"login.codes"}],ref:"codeEl",staticClass:"btn_group",attrs:{type:"text",id:"codes",name:"codes",placeholder:"请输入短信验证码"},domProps:{value:t.login.codes},on:{input:function(e){e.target.composing||t.$set(t.login,"codes",e.target.value)}}}),t._v(" "),s("button",{staticClass:"code",attrs:{type:"button",disabled:t.disabled},domProps:{textContent:t._s(t.codeVal)},on:{click:t.setCodeFn}},[t._v("获取验证码\n        ")])])]),t._v(" "),s("div",{staticClass:"input_group"},[s("button",{staticClass:"btn_group",attrs:{type:"button"},on:{click:t.submitFn}},[t._v("绑定手机号")])])])])},staticRenderFns:[]};e.a=i},WGwR:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("TJZj"),o=s.n(i);for(var n in i)"default"!==n&&function(t){s.d(e,t,function(){return i[t]})}(n);var l=s("Tqmd");var a=function(t){s("L2L0")},d=s("vSla")(o.a,l.a,!1,a,"data-v-05d08e62",null);e.default=d.exports}});
//# sourceMappingURL=53.a642335f6758ee31ab72.js.map