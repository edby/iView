{"version":3,"sources":["webpack:///./src/components/maker/exchange/Bonus/addbank.vue?e4a6","webpack:///./src/components/maker/exchange/Bonus/addbank.vue","webpack:///src/components/maker/exchange/Bonus/addbank.vue"],"names":["esExports","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","_v","attrs","type","id","placeholder","domProps","on","input","$event","target","composing","num","username","click","select","readonly","moeryId","bank","addbank","_l","classify","k","key","ban","bank_name","_s","hide","staticRenderFns","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_18afb9f0_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_node_modules_iview_loader_1_2_1_iview_loader_index_js_ref_0_1_addbank_vue__","__webpack_require__","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_1_2_1_iview_loader_index_js_ref_0_1_addbank_vue___default","a","data","title","show","shows","category","created","_this","$axios","get","then","res","bank_info","bank_num","bank_username","bank_id","Bank_Name","methods","_this2","test","length","mui","alert","Qs","post","stringify","code","layer","msg","message","setTimeout","$router","push"],"mappings":"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","file":"static/js/49.4e93451e64c2083ba7cf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"title\",rawName:\"v-title\",value:(_vm.title),expression:\"title\"}]},[_c('div',{staticClass:\"mui-content addBankCard\"},[_c('form',{staticClass:\"mui-input-group\"},[_c('div',{staticClass:\"mui-input-row\"},[_c('label',[_vm._v(\"银行卡\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.num),expression:\"num\"}],staticClass:\"mui-input-clear\",attrs:{\"type\":\"text\",\"id\":\"bank_num\",\"placeholder\":\"请输入银行卡卡号\"},domProps:{\"value\":(_vm.num)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.num=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"mui-input-row\"},[_c('label',[_vm._v(\"持卡人\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"mui-input-clear\",attrs:{\"type\":\"text\",\"id\":\"bank_username\",\"placeholder\":\"请输入持卡人姓名\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"mui-input-row \",on:{\"click\":_vm.select}},[_c('label',[_vm._v(\"银行名称\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bank),expression:\"bank\"}],attrs:{\"type\":\"text\",\"id\":\"bank_id\",\"placeholder\":\"选择银行\",\"readonly\":\"readonly\",\"value\":\"\",\"moeryId\":_vm.moeryId},domProps:{\"value\":(_vm.bank)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.bank=$event.target.value}}})])]),_vm._v(\" \"),_c('p',[_vm._v(\"注意：请绑定持卡人本人储蓄卡！（不支持信用卡）\")]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"button\",\"id\":\"addbank\",\"placeholder\":\"确认添加\",\"value\":\"确认\"},on:{\"click\":_vm.addbank}}),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"mui-table-view\"},[_c('h4',[_vm._v(\"请选择银行\")]),_vm._v(\" \"),_vm._l((_vm.category),function(classify,k){return _c('div',{key:k,on:{\"click\":function($event){_vm.ban(classify.id,classify.bank_name )}}},[_vm._v(\"\\n        \"+_vm._s(classify.bank_name)+\"\\n      \")])})],2),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shows),expression:\"shows\"}],staticClass:\"box\",on:{\"click\":_vm.hide}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-18afb9f0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./node_modules/_iview-loader@1.2.1@iview-loader??ref--0-1!./src/components/maker/exchange/Bonus/addbank.vue\n// module id = MiVd\n// module chunks = 49","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-18afb9f0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!../../../../../node_modules/_iview-loader@1.2.1@iview-loader/index.js??ref--0-1!./addbank.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!../../../../../node_modules/_iview-loader@1.2.1@iview-loader/index.js??ref--0-1!./addbank.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!../../../../../node_modules/_iview-loader@1.2.1@iview-loader/index.js??ref--0-1!./addbank.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-18afb9f0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!../../../../../node_modules/_iview-loader@1.2.1@iview-loader/index.js??ref--0-1!./addbank.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-18afb9f0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/maker/exchange/Bonus/addbank.vue\n// module id = fabq\n// module chunks = 49","<template>\r\n  <div v-title=\"title\">\r\n    <div class=\"mui-content addBankCard\">\r\n      <form class=\"mui-input-group\">\r\n        <div class=\"mui-input-row\">\r\n          <label>银行卡</label>\r\n          <input type=\"text\" class=\"mui-input-clear\" id=\"bank_num\" placeholder=\"请输入银行卡卡号\" v-model=\"num\">\r\n        </div>\r\n        <div class=\"mui-input-row\">\r\n          <label>持卡人</label>\r\n          <input type=\"text\" class=\"mui-input-clear\" id=\"bank_username\" placeholder=\"请输入持卡人姓名\" v-model=\"username\">\r\n        </div>\r\n        <div class=\"mui-input-row \" @click=\"select\">\r\n          <label>银行名称</label>\r\n          <input type=\"text\" id=\"bank_id\" placeholder=\"选择银行\" readonly=\"readonly\" value=\"\" v-model=\"bank\" :moeryId=\"moeryId\">\r\n        </div>\r\n      </form>\r\n      <p>注意：请绑定持卡人本人储蓄卡！（不支持信用卡）</p>\r\n      <input type=\"button\" class=\"\" id=\"addbank\" placeholder=\"确认添加\" value=\"确认\" @click=\"addbank\">\r\n      <ul class=\"mui-table-view\" v-show=\"show\">\r\n        <h4>请选择银行</h4>\r\n        <div v-for=\"(classify,k) in category\" :key=\"k\" @click=\"ban(classify.id,classify.bank_name )\">\r\n          {{classify.bank_name}}\r\n        </div>\r\n\r\n      </ul>\r\n      <div class=\"box\" v-show=\"shows\" @click=\"hide\"></div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nimport \"vue-awesome-mui/mui/dist/css/mui.css\";\r\nexport default {\r\n  name: \"addbank\",\r\n  data() {\r\n    return {\r\n      title: \"绑定银行卡\",\r\n      num: \"\",\r\n      username: \"\",\r\n      bank: \"\",\r\n      id: \"\",\r\n      show: false,\r\n      shows: false,\r\n      category: [],\r\n      moeryId: \"\"\r\n    };\r\n  },\r\n  created() {\r\n    this.$axios\r\n      .get(\"/user/bonus/get-bank-code\") //获取银行\r\n      .then(res => {\r\n        //console.log(res);\r\n        this.category = res.data.data;\r\n      });\r\n    this.$axios\r\n      .get(\"/user/bonus/get-code-info\") //获取银行卡信息\r\n      .then(res => {\r\n        //console.log(res)\r\n        // console.log(res.data.data.bank_info);\r\n        if (res.data.data.bank_info == null) {\r\n          return;\r\n        } else {\r\n          this.num = res.data.data.bank_info.bank_num;\r\n          this.username = res.data.data.bank_info.bank_username;\r\n          this.moeryId = res.data.data.bank_info.bank_id;\r\n          this.bank = res.data.data.bank_info.Bank_Name.bank_name;\r\n        }\r\n      });\r\n  },\r\n  methods: {\r\n    select() {\r\n      //点击显示银行信息\r\n      this.show = true;\r\n      this.shows = true;\r\n    },\r\n    hide() {\r\n      //点击着找进行页面的隐藏\r\n      this.show = false;\r\n      this.shows = false;\r\n    },\r\n    ban(id, bank_name) {\r\n      //传参数\r\n      this.bank = bank_name;\r\n      this.moeryId = id;\r\n    },\r\n    addbank() {\r\n      //点击进行绑定\r\n      if (this.num == \"\") {\r\n        mui.alert(\"请输入银行卡卡号！\");\r\n        return;\r\n      } else if (\r\n        !/^\\w+$/.test(this.num) ||\r\n        this.num.length <= 15 ||\r\n        this.num.length >= 20\r\n      ) {\r\n        mui.alert(\"银行卡格式不正确，请重新输入\");\r\n        return;\r\n      }\r\n      if (this.username == \"\") {\r\n        mui.alert(\"请输入持卡人姓名\");\r\n        return;\r\n      } else if (!/^[\\u4E00-\\u9FA5]{1,6}$/.test(this.username)) {\r\n        mui.alert(\"请输入2-6位中文姓名\");\r\n        return;\r\n      }\r\n      if (this.bank == \"\") {\r\n        mui.alert(\"请选择开户行\");\r\n        return;\r\n      }\r\n      const Qs = require(\"qs\");\r\n      this.$axios\r\n        .post(\r\n          \"/user/bonus/add-bank-code\",\r\n          Qs.stringify({\r\n            bank_num: this.num,\r\n            bank_username: this.username,\r\n            bank_id: this.moeryId\r\n          })\r\n        )\r\n        .then(res => {\r\n          //console.log(res);\r\n          if (res.data.code == 2000) {\r\n            layer.msg(res.data.message);\r\n            setTimeout(() => {\r\n              this.$router.push({ name: \"BonusEmbody\" });\r\n            }, 2000);\r\n          } else if (res.data.code == 3000) {\r\n            layer.msg(res.data.message);\r\n          }\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.box {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  z-index: 2;\r\n}\r\n.addBankCard > form {\r\n  background: #ffffff;\r\n  padding: 15px;\r\n  padding-bottom: 0px;\r\n}\r\n\r\n.addBankCard .mui-input-group:before,\r\n.addBankCard .mui-input-group .mui-input-row:after,\r\n.addBankCard .mui-input-group:after {\r\n  background-color: #ffffff;\r\n}\r\n\r\n.addBankCard > form > div {\r\n  border-bottom: 1px solid #f5f5f5;\r\n}\r\n\r\n.addBankCard > form > div > input {\r\n  font-size: 14px;\r\n}\r\n\r\n.addBankCard > p {\r\n  text-align: center;\r\n  margin-top: 5%;\r\n}\r\n\r\n.addBankCard > input {\r\n  width: 90%;\r\n  margin-left: 5%;\r\n  border: none;\r\n  background: #000000;\r\n  color: #ffffff;\r\n  height: 40px;\r\n  margin-top: 10%;\r\n}\r\n\r\n.addBankCard > ul {\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  overflow: scroll;\r\n  overflow-y: hidde;\r\n  height: 65%;\r\n  z-index: 3;\r\n}\r\n\r\n.addBankCard > ul > h4 {\r\n  text-align: center;\r\n  padding: 4% 0;\r\n  border-bottom: 1px solid #f2f2f2;\r\n  margin: 0;\r\n}\r\n\r\n.addBankCard .mui-table-view:before {\r\n  background-color: #ffffff;\r\n}\r\n\r\n.addBankCardUlAddColro {\r\n  background: #f2f2f2 !important;\r\n}\r\nul {\r\n  div {\r\n    padding: 10px 20px;\r\n    border-bottom: 1px solid #ccc;\r\n  }\r\n}\r\n.mui-table-view:after {\r\n  background-color: #fff;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/maker/exchange/Bonus/addbank.vue"],"sourceRoot":""}