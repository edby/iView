webpackJsonp([3],{"/MzZ":function(t,e,i){"use strict";var s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"assCoupon"},[i("div",{staticClass:"content"},t._l(t.dataList,function(e,s){return i("div",{key:s,staticClass:"item",class:{library:1==e.coupon_type,rebate:2==e.coupon_type},on:{click:function(i){t.contentFn(e)}}},[i("div",{staticClass:"item_title"},[i("div",{staticClass:"prc"},[i("h3",[t._v(t._s(e.disc_price))]),t._v(" "),1==e.coupon_type?i("span",[t._v("元")]):t._e(),t._v(" "),2==e.coupon_type?i("span",[t._v("折")]):t._e()]),t._v(" "),i("div",{staticClass:"illus"},[1==e.coupon_type?i("h4",[t._v("满"+t._s(e.meet_price)+"元减"+t._s(e.disc_price)+"元")]):t._e(),t._v(" "),2==e.coupon_type?i("h4",[t._v("满"+t._s(e.meet_price)+"元打"+t._s(e.disc_price)+"折")]):t._e(),t._v(" "),2==e.coupon_type?i("p",[t._v("最高可减"+t._s(e.high_price)+"元")]):t._e()])]),t._v(" "),i("div",{staticClass:"item_des"},[i("div",{staticClass:"item_des_list lt"},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"item_des_list rt"},[t._v(t._s(e.start_time)+"-"+t._s(e.end_time))])])])}))])},staticRenderFns:[]};e.a=s},"0dUh":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"assCoupon",props:{dataList:{type:[Array,Object],default:[]}},methods:{contentFn:function(t){this.$emit("contentFn",t)}}}},"8fXX":function(t,e,i){"use strict";var s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isDetail?i("div",{staticClass:"detailList",on:{click:function(e){return e.stopPropagation(),t.isCloseDetail(e)}}},[i("div",{staticClass:"detail_cont"},[i("div",{ref:"detailItems",staticClass:"content"},[i("div",{staticClass:"detail_item",on:{click:function(t){t.stopPropagation()}}},[i("div",{ref:"headers",staticClass:"header"},[i("h3",{staticClass:"title"},[t._v(t._s(t.dataList.title))]),t._v(" "),1==t.dataList.coupon_type?i("h1",{staticClass:"prc"},[t._v("￥"+t._s(t.dataList.meet_price)),i("span",[t._v("元")])]):t._e(),t._v(" "),2==t.dataList.coupon_type?i("h1",{staticClass:"prc"},[t._v(t._s(t.dataList.disc_price)),i("span",[t._v("折")])]):t._e(),t._v(" "),1==t.dataList.coupon_type?i("p",{staticClass:"subtraction"},[t._v("满"+t._s(t.dataList.meet_price)+"元减"+t._s(t.dataList.disc_price)+"元")]):t._e(),t._v(" "),2==t.dataList.coupon_type?i("p",{staticClass:"subtraction"},[t._v("满"+t._s(t.dataList.meet_price)+"元打"+t._s(t.dataList.disc_price)+"折")]):t._e(),t._v(" "),1==t.dataList.coupon_type?i("button",{staticClass:"btn",class:{disabled:t.disabled},attrs:{type:"button",disabled:t.disabled},on:{click:function(e){return e.stopPropagation(),t.homeIndex(e)}}},[t._v("立即使用\n          ")]):t._e(),t._v(" "),2==t.dataList.coupon_type?i("button",{staticClass:"btn",class:{disabled:t.disabled},attrs:{type:"button",disabled:t.disabled},on:{click:function(e){return e.stopPropagation(),t.homeIndex(e)}}},[t._v("立即使用\n          ")]):t._e(),t._v(" "),i("p",{staticClass:"dec"},[t._v("有效期:"+t._s(t.dataList.start_time)+"-"+t._s(t.dataList.end_time))])]),t._v(" "),i("div",{ref:"detailBody",staticClass:"detail_body"},[i("div",{ref:"bodyCont",staticClass:"body_cont"},[i("div",{staticClass:"range"},[i("div",{staticClass:"range_name"},[t._v("使用范围：")]),t._v(" "),i("div",{staticClass:"range_title"},t._l(t.dataList.use_name,function(e,s){return i("span",{key:s},[t._v(t._s(e)+" "),s!=t.dataList.use_name.length-1?i("em",[t._v("、")]):t._e()])}))]),t._v(" "),i("div",{staticClass:"explain"},[i("div",[t._v("使用说明："+t._s(t.dataList.descript))])])])])])])])]):t._e()},staticRenderFns:[]};e.a=s},EoWS:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Nmu7"),a=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);var o=i("8fXX");var d=function(t){i("XST4")},c=i("vSla")(a.a,o.a,!1,d,"data-v-e6d4c6aa",null);e.default=c.exports},Nmu7:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"detailList",props:{dataList:{type:[Array,Object],default:{}},isDetail:{type:Boolean,default:!1}},data:function(){return{}},computed:{disabled:function(){return 1!=this.dataList.status}},created:function(){},watch:{isDetail:function(){var t=this;setTimeout(function(){t.itemsH()},500),console.log("123456")}},mounted:function(){var t=this;this.$nextTick(function(){t.itemsH()}),window.addEventListener("resize",this.itemsH)},methods:{itemsH:function(){if(console.log(this.$refs.detailItems),void 0!=this.$refs.detailItems&&void 0!=this.$refs.headers){var t=this.$refs.detailItems.offsetHeight,e=this.$refs.headers.offsetHeight;this.$refs.detailBody.style.maxHeight=t-e+"px",this.$refs.bodyCont.style.height=t-e-20+"px",console.log(t-e)}},isCloseDetail:function(){this.$emit("isCloseDetail")},homeIndex:function(){this.$router.push({path:"/"})},Immediate:function(t){this.disabled||this.$emit("Immediate",t)}}}},Nwii:function(t,e,i){"use strict";var s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"couponList"},[i("ul",{staticClass:"header_nav"},t._l(t.navList,function(e,s){return i("li",{key:s,class:{active:t.curIndex==s},on:{click:function(e){t.navFn(s)}}},[t._v(t._s(e.title)+"\n    ")])})),t._v(" "),i("div",{staticClass:"content-box"},[i("div",{staticClass:"content"},[0==t.curIndex&&0!=t.userList.length?i("div",{key:0,staticClass:"items_list"},[i("ass-coupon",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMoreL,expression:"loadMoreL"}],attrs:{"infinite-scroll-disabled":"loadingL","infinite-scroll-distance":"0",dataList:t.userList},on:{contentFn:t.contentFn}})],1):t._e(),t._v(" "),1==t.curIndex&&0!=t.expiredList.length?i("div",{key:1,staticClass:"items_list"},[i("ass-coupon",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"0",dataList:t.expiredList},on:{contentFn:t.contentFn}})],1):t._e()])]),t._v(" "),i("div",{staticClass:"heel",on:{click:t.Receive}},[t._v("\n    领取更多优惠券>\n  ")]),t._v(" "),i("detail-list",{attrs:{dataList:t.detailData,isDetail:t.isDetail},on:{isCloseDetail:t.isCloseDetail}})],1)},staticRenderFns:[]};e.a=s},XST4:function(t,e){},Zmlm:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("jK29"),a=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);var o=i("Nwii");var d=function(t){i("fLJz")},c=i("vSla")(a.a,o.a,!1,d,"data-v-50f3088a",null);e.default=c.exports},fLJz:function(t,e){},jK29:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(i("l/lM")),a=n(i("EoWS"));function n(t){return t&&t.__esModule?t:{default:t}}e.default={name:"couponList",data:function(){return{curIndex:1,navList:[{id:1,title:"已使用"},{id:2,title:"已过期"}],expiredList:[],userList:[],detailData:[],isDetail:!1,page:1,loading:!1,pageL:1,loadingL:!1}},created:function(){if(void 0!=this.$route.query.curIndex){var t=this.$route.query.curIndex;this.curIndex=t}this.getExpiredList(),this.getUserList()},computed:{isNoData:function(){return 1==this.curIndex?0==this.expiredList.length:0==this.curIndex?0==this.userList:void 0}},watch:{},mounted:function(){this.$nextTick(function(){})},methods:{loadMoreL:function(){this.more()},getUserList:function(){var t=this;this.$axios.get("/user/coupon/used-list?page="+this.pageL).then(function(e){2e3==e.data.code&&(console.log(e.data.data.items),0===t.userList.length?t.userList=e.data.data.items:t.userList=t.userList.concat(e.data.data.items),t.isHaveMoreL(e.data.data._meta.currentPage<e.data.data._meta.pageCount))})},more:function(){this.pageL=parseInt(this.pageL)+1,this.getUserList()},isHaveMoreL:function(t){this.loadingL=!t},loadMore:function(){this.page=parseInt(this.page)+1,this.getExpiredList()},getExpiredList:function(){var t=this;this.$axios.get("/user/coupon/expired-list?page="+this.page).then(function(e){2e3==e.data.code&&(console.log(e.data.data.items),0===t.expiredList.length?t.expiredList=e.data.data.items:t.expiredList=t.expiredList.concat(e.data.data.items),t.isHaveMore(e.data.data._meta.currentPage<e.data.data._meta.pageCount))})},isHaveMore:function(t){this.loading=!t},navFn:function(t){this.curIndex=t},Receive:function(){this.$router.push({name:"Collar"})},contentFn:function(t){var e=this;console.log(t),alert(t.id),this.$axios.get("/user/coupon/detail?id="+t.id).then(function(t){2e3==t.data.code&&(console.log(t.data.data),e.detailData=t.data.data,e.isDetail=!0)})},isCloseDetail:function(){this.isDetail=!1}},components:{assCoupon:s.default,DetailList:a.default}}},"l/lM":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("0dUh"),a=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);var o=i("/MzZ");var d=function(t){i("me6R")},c=i("vSla")(a.a,o.a,!1,d,"data-v-9d0dbb74",null);e.default=c.exports},me6R:function(t,e){}});
//# sourceMappingURL=3.65fb3f9dddc4d8a9238e.js.map