webpackJsonp([15],{"84fn":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("KxdQ"),o=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);var l=n("GlKN"),a=n("vSla")(o.a,l.a,!1,null,null,null);e.default=a.exports},GlKN:function(t,e,n){"use strict";var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"binding"},[e("log-bun",{on:{submitFn:this.submitFn}}),this._v(" "),e("p",{staticStyle:{"text-align":"center",color:"#ffffff",width:"100%",position:"absolute",top:"90%"},on:{click:this.noBind}},[this._v("微信一键登录")])],1)},staticRenderFns:[]};e.a=i},KxdQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("UZoK"),s=(i=o)&&i.__esModule?i:{default:i};e.default={name:"binding",data:function(){return{str:""}},created:function(){this.str=this.$route.query.callBack,this.isBindTel()},methods:{isBindTel:function(){var t=this;this.$axios.get("/user/index/is-login").then(function(e){console.log(e),2e3==e.data.code&&t.$router.replace({path:"/"})})},submitFn:function(t){this.$axios.post("/user/login/first-bind",{tel:t.tel,telcode:t.codes}).then(function(t){if(console.log(t),3e3==t.data.code&&layer.msg(t.data.message),2e3==t.data.code){var e=window.location.href.split("?callBack=");e=e[1],window.location.href=decodeURIComponent(e)}})},noBind:function(){this.$axios.get("/user/login/not-bind").then(function(t){if(2e3==t.data.code){var e=window.location.href.split("?callBack="),n=decodeURIComponent(e[1]);window.location.href=n}else 3e3==t.data.code&&layer.msg(t.data.message)})}},components:{LogBun:s.default}}},UZoK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Wdu7"),o=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);var l=n("n29d");var a=function(t){n("q35q")},d=n("vSla")(o.a,l.a,!1,a,"data-v-1374a206",null);e.default=d.exports},Wdu7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"logBin",data:function(){return{login:{},countdown:60,codeVal:"获取验证码",disabled:!1,timer:null}},mounted:function(){},methods:{isTels:function(){return this.login.tel&&""!=this.login.tel?!!/^1[3|4|5|6|7|8|9][0-9]\d{4,8}$/.test(this.login.tel)||(layer.msg("电话不正确"),this.$refs.telEl.focus(),!1):(layer.msg("电话不能为空"),this.$refs.telEl.focus(),!1)},setCodeFn:function(){this.isTels()&&(this.setTime(),this.$axios.post("/user/login/send-sms",{tel:this.login.tel}).then(function(t){3e3==t.data.code&&layer.msg(t.data.message),2e3==t.data.code&&layer.msg("发送成功，请耐心等候！")}))},setTime:function(){var t=this;if(0===this.countdown)return this.disabled=!1,this.codeVal="免费获取验证码",this.countdown=60,void clearTimeout(this.timer);this.disabled=!0,this.codeVal="重新发送("+this.countdown+")",this.countdown--,this.timer=setTimeout(function(){t.setTime()},1e3)},codeFn:function(){return this.login.codes&&""!==this.login.codes?!!/^\d+$/.test(this.login.codes)||(layer.msg("验证码不正确"),this.$refs.codeEl.focus(),!1):(layer.msg("验证码不能为空"),this.$refs.codeEl.focus(),!1)},submitFn:function(){if(this.isTels()&&this.codeFn()){var t={tel:this.login.tel,codes:this.login.codes};this.$emit("submitFn",t)}}}}},n29d:function(t,e,n){"use strict";var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logBin"},[n("form",{staticClass:"form_group"},[n("div",{staticClass:"input_group"},[n("label",{attrs:{for:"tel"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.login.tel,expression:"login.tel"}],ref:"telEl",staticClass:"btn_group",attrs:{type:"tel",name:"tel",id:"tel",placeholder:"请输入手机号"},domProps:{value:t.login.tel},on:{input:function(e){e.target.composing||t.$set(t.login,"tel",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"input_group"},[n("label",{attrs:{for:"codes"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.login.codes,expression:"login.codes"}],ref:"codeEl",staticClass:"btn_group",attrs:{type:"text",id:"codes",name:"codes",placeholder:"请输入短信验证码"},domProps:{value:t.login.codes},on:{input:function(e){e.target.composing||t.$set(t.login,"codes",e.target.value)}}}),t._v(" "),n("button",{staticClass:"code",attrs:{type:"button",disabled:t.disabled},domProps:{textContent:t._s(t.codeVal)},on:{click:t.setCodeFn}},[t._v("获取验证码\n        ")])])]),t._v(" "),n("div",{staticClass:"input_group"},[n("button",{staticClass:"btn_group",attrs:{type:"button"},on:{click:t.submitFn}},[t._v("确定")])])])])},staticRenderFns:[]};e.a=i},q35q:function(t,e){}});
//# sourceMappingURL=15.69a6494ce85b95aa5a51.js.map