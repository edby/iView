webpackJsonp([40],{"8jDO":function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"ispay",data:function(){return{title:"选择支付方式",expires:"",order_sn:"",money:"",appId:"",timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""}},created:function(){var a=this;this.$axios.get("/order/index/select-pay?id="+this.$route.query.id).then(function(t){2e3==t.data.code&&(a.expires=t.data.data.expires,a.order_sn=t.data.data.order_sn,a.money=t.data.data.money),3e3==t.data.code&&(3008==t.data.status&&a.$router.push({name:"orderdatails",query:{id:a.$route.query.id}}),alert(t.data.message),window.location.href="/")}),this.$axios.get("/order/index/wechat-pay?id="+this.$route.query.id).then(function(t){console.log(t),2e3==t.data.code&&(a.appId=t.data.data.appId,a.timeStamp=t.data.data.timeStamp,a.nonceStr=t.data.data.nonceStr,a.package=t.data.data.package,a.signType=t.data.data.signType,a.paySign=t.data.data.paySign),3e3!=t.data.code||t.data.status})},methods:{chooseWXPay:function(){var a=this;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:this.appId,timeStamp:this.timeStamp,nonceStr:this.nonceStr,package:this.package,signType:this.signType,paySign:this.paySign},function(t){"get_brand_wcpay_request:ok"==t.err_msg&&(layer.msg("支付成功"),setTimeout(function(){a.$router.push({name:"orderdatails",query:{id:a.$route.query.id}})},1e3)),"get_brand_wcpay_request:cancel"==t.err_msg&&layer.msg("您取消了支付"),"get_brand_wcpay_request:fail"==t.err_msg&&layer.msg("支付失败")}),"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",onBridgeReady,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",onBridgeReady),document.attachEvent("onWeixinJSBridgeReady",onBridgeReady)):onBridgeReady()},alipay:function(){this.$axios.get("/order/index/alipay?id="+this.$route.query.id).then(function(a){console.log(a),2e3==a.data.code&&(window.location.href=a.data.data.url),3010==a.data.code&&(window.location.href="http://alipay.hena360.com/alipay.html?id="+a.data.data.id+"&uid="+a.data.data.uid+"&_sign="+a.data.data._sign+"&_time="+a.data.data._time)})}}}},XKW1:function(a,t){},irhO:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("8jDO"),i=e.n(n);for(var d in n)"default"!==d&&function(a){e.d(t,a,function(){return n[a]})}(d);var r=e("twMI");var s=function(a){e("XKW1")},o=e("vSla")(i.a,r.a,!1,s,"data-v-1e288c07",null);t.default=o.exports},twMI:function(a,t,e){"use strict";var n={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{directives:[{name:"title",rawName:"v-title",value:a.title,expression:"title"}],staticClass:"pay"},[e("Row",{staticClass:"title"},[e("Col",{attrs:{span:"24"}},[a._v("请您在"+a._s(a.expires)+"前完成支付，否则订单自动取消！")]),a._v(" "),e("Col",{attrs:{span:"24"}},[a._v("订单号: "+a._s(a.order_sn))]),a._v(" "),e("Col",{attrs:{span:"24"}},[a._v("支付金额: "+a._s(a.money))])],1),a._v(" "),e("Row",{staticClass:"is"},[e("h4",[a._v("选择支付方式")]),a._v(" "),e("Col",{attrs:{span:"24"},nativeOn:{click:function(t){return a.chooseWXPay(t)}}},[e("img",{attrs:{src:"http://img.hena360.cn/_pic145.png",alt:""}}),a._v("微信支付")]),a._v(" "),e("Col",{attrs:{span:"24"},nativeOn:{click:function(t){return a.alipay(t)}}},[e("img",{attrs:{src:"http://img.hena360.cn/pay_logo1.png",alt:""}}),a._v("支付宝支付")])],1)],1)},staticRenderFns:[]};t.a=n}});
//# sourceMappingURL=40.da28e44053fd6b651eb6.js.map