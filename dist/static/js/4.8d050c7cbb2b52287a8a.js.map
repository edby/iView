{"version":3,"sources":["webpack:///./src/components/coupon/assembly/assCoupon.vue?1bea","webpack:///src/components/coupon/assembly/assCoupon.vue","webpack:///./src/components/coupon/assembly/detailList.vue?5858","webpack:///./src/components/coupon/assembly/detailList.vue","webpack:///./src/components/coupon/coupon.vue?9cfb","webpack:///src/components/coupon/assembly/detailList.vue","webpack:///./src/components/coupon/coupon.vue","webpack:///./src/components/coupon/assembly/assCoupon.vue","webpack:///src/components/coupon/coupon.vue"],"names":["esExports","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","key","class","library","coupon_type","rebate","on","click","$event","contentFn","_v","_s","disc_price","_e","meet_price","high_price","title","start_time","end_time","staticRenderFns","__webpack_exports__","name","props","dataList","type","Array","Object","default","methods","$emit","stopPropagation","isCloseDetail","ref","disabled","attrs","homeIndex","i","use_name","length","descript","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_e6d4c6aa_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_node_modules_iview_loader_1_2_1_iview_loader_index_js_ref_0_1_detailList_vue__","__webpack_require__","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_1_2_1_iview_loader_index_js_ref_0_1_detailList_vue___default","a","directives","rawName","value","expression","UserCouponList","infinite-scroll-disabled","infinite-scroll-distance","Invalid","Receive","detailData","isDetail","Immediate","Boolean","data","computed","status","created","watch","_this","setTimeout","itemsH","console","log","mounted","_this2","$nextTick","window","addEventListener","$refs","detailItems","undefined","headers","items_h","offsetHeight","headers_h","detailBody","style","maxHeight","bodyCont","height","$router","push","path","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_d3ce45fc_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_node_modules_iview_loader_1_2_1_iview_loader_index_js_ref_0_1_coupon_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_1_2_1_iview_loader_index_js_ref_0_1_coupon_vue___default","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_9d0dbb74_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_node_modules_iview_loader_1_2_1_iview_loader_index_js_ref_0_1_assCoupon_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_1_2_1_iview_loader_index_js_ref_0_1_assCoupon_vue___default","page","loading","getUserCoupon","loadMore","more","$axios","get","then","res","code","items","concat","isHaveMore","_meta","currentPage","pageCount","parseInt","_isHaveMore","query","curIndex","coupon_id","id","destroyed","removeEventListener","handleScroll","components","assCoupon","_assCoupon2","DetailList","_detailList2","noData","_noData2"],"mappings":"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","file":"static/js/4.8d050c7cbb2b52287a8a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"assCoupon\"},[_c('div',{staticClass:\"content\"},_vm._l((_vm.dataList),function(item,index){return _c('div',{key:index,staticClass:\"item\",class:{'library': item.coupon_type == 1,'rebate': item.coupon_type == 2},on:{\"click\":function($event){_vm.contentFn(item)}}},[_c('div',{staticClass:\"item_title\"},[_c('div',{staticClass:\"prc\"},[_c('h3',[_vm._v(_vm._s(item.disc_price))]),_vm._v(\" \"),(item.coupon_type == 1)?_c('span',[_vm._v(\"元\")]):_vm._e(),_vm._v(\" \"),(item.coupon_type == 2)?_c('span',[_vm._v(\"折\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"illus\"},[(item.coupon_type == 1)?_c('h4',[_vm._v(\"满\"+_vm._s(item.meet_price)+\"元减\"+_vm._s(item.disc_price)+\"元\")]):_vm._e(),_vm._v(\" \"),(item.coupon_type == 2)?_c('h4',[_vm._v(\"满\"+_vm._s(item.meet_price)+\"元打\"+_vm._s(item.disc_price)+\"折\")]):_vm._e(),_vm._v(\" \"),(item.coupon_type == 2)?_c('p',[_vm._v(\"最高可减\"+_vm._s(item.high_price)+\"元\")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"item_des\"},[_c('div',{staticClass:\"item_des_list lt\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('div',{staticClass:\"item_des_list rt\"},[_vm._v(_vm._s(item.start_time)+\"-\"+_vm._s(item.end_time))])])])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-9d0dbb74\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./node_modules/_iview-loader@1.2.1@iview-loader??ref--0-1!./src/components/coupon/assembly/assCoupon.vue\n// module id = /MzZ\n// module chunks = 3 4","<template>\r\n  <div class=\"assCoupon\">\r\n    <div class=\"content\">\r\n      <div class=\"item\"\r\n           v-for=\"(item,index) in dataList\"\r\n           @click=\"contentFn(item)\"\r\n           :key=\"index\"\r\n           :class=\"{'library': item.coupon_type == 1,'rebate': item.coupon_type == 2}\">\r\n        <div class=\"item_title\">\r\n          <div class=\"prc\">\r\n            <h3>{{item.disc_price}}</h3>\r\n            <span v-if=\"item.coupon_type == 1\">元</span>\r\n            <span v-if=\"item.coupon_type == 2\">折</span>\r\n          </div>\r\n          <div class=\"illus\">\r\n            <h4 v-if=\"item.coupon_type == 1\">满{{item.meet_price}}元减{{item.disc_price}}元</h4>\r\n            <h4 v-if=\"item.coupon_type == 2\">满{{item.meet_price}}元打{{item.disc_price}}折</h4>\r\n            <p v-if=\"item.coupon_type == 2\">最高可减{{item.high_price}}元</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"item_des\">\r\n          <div class=\"item_des_list lt\">{{item.title}}</div>\r\n          <div class=\"item_des_list rt\">{{item.start_time}}-{{item.end_time}}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  export default {\r\n    name: \"assCoupon\",\r\n    props:{\r\n      dataList: {\r\n        type: [Array,Object],\r\n        default: []\r\n      }\r\n    },\r\n    methods:{\r\n      contentFn(item){\r\n        this.$emit('contentFn',item)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" type=\"text/stylus\" rel=\"stylesheet/stylus\">\r\n  $abs = 100%;\r\n  .assCoupon {\r\n    width: $abs;\r\n  }\r\n\r\n  .item\r\n    width: $abs;\r\n    position: relative\r\n    color white\r\n    margin-bottom 15px\r\n    overflow: hidden;\r\n    &:before, &:after\r\n      content: ''\r\n      position: absolute\r\n      width 16px\r\n      height: 16px\r\n      background-color: #fff\r\n      border-radius $abs\r\n      z-index: 9;\r\n    &:before\r\n      bottom: 28px\r\n      left: -8px\r\n    &:after\r\n      bottom: 28px\r\n      right: -8px\r\n    &:last-of-type\r\n      margin-bottom: 0;\r\n\r\n  .item_title\r\n    padding 15px\r\n    overflow: hidden;\r\n    display flex\r\n    align-items center\r\n    .prc\r\n      width 48%\r\n      flex 0 0 auto\r\n      h3\r\n        display inline-block\r\n        font-size 40px;\r\n      span\r\n        display: inline-block;\r\n        font-size 16px\r\n        font-weight: 600;\r\n    .illus\r\n      flex: 1\r\n      font-size 16px\r\n      h4\r\n        font-size 16px\r\n      p\r\n        color white\r\n        margin-top: 5px\r\n        font-size 14px\r\n\r\n  .item_des\r\n\r\n    padding: 12px;\r\n    overflow: hidden;\r\n    position: relative\r\n\r\n  .item_des_list\r\n    width auto\r\n    font-size 12px\r\n\r\n  .lt\r\n    float: left\r\n\r\n  .rt\r\n    float: right\r\n\r\n  .library\r\n    .item_title\r\n      background-color: #c6a7ea\r\n    .item_des\r\n      background-color: #b491dc\r\n\r\n  .rebate\r\n    .item_title\r\n      background-color: #e9be8f\r\n    .item_des\r\n      background-color: #e4b17a\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/coupon/assembly/assCoupon.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isDetail)?_c('div',{staticClass:\"detailList\",on:{\"click\":function($event){$event.stopPropagation();return _vm.isCloseDetail($event)}}},[_c('div',{staticClass:\"detail_cont\"},[_c('div',{ref:\"detailItems\",staticClass:\"content\"},[_c('div',{staticClass:\"detail_item\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{ref:\"headers\",staticClass:\"header\"},[_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.dataList.title))]),_vm._v(\" \"),(_vm.dataList.coupon_type == 1)?_c('h1',{staticClass:\"prc\"},[_vm._v(\"￥\"+_vm._s(_vm.dataList.meet_price)),_c('span',[_vm._v(\"元\")])]):_vm._e(),_vm._v(\" \"),(_vm.dataList.coupon_type == 2)?_c('h1',{staticClass:\"prc\"},[_vm._v(_vm._s(_vm.dataList.disc_price)),_c('span',[_vm._v(\"折\")])]):_vm._e(),_vm._v(\" \"),(_vm.dataList.coupon_type == 1)?_c('p',{staticClass:\"subtraction\"},[_vm._v(\"满\"+_vm._s(_vm.dataList.meet_price)+\"元减\"+_vm._s(_vm.dataList.disc_price)+\"元\")]):_vm._e(),_vm._v(\" \"),(_vm.dataList.coupon_type == 2)?_c('p',{staticClass:\"subtraction\"},[_vm._v(\"满\"+_vm._s(_vm.dataList.meet_price)+\"元打\"+_vm._s(_vm.dataList.disc_price)+\"折\")]):_vm._e(),_vm._v(\" \"),(_vm.dataList.coupon_type == 1)?_c('button',{staticClass:\"btn\",class:{'disabled': _vm.disabled},attrs:{\"type\":\"button\",\"disabled\":_vm.disabled},on:{\"click\":function($event){$event.stopPropagation();return _vm.homeIndex($event)}}},[_vm._v(\"立即使用\\n          \")]):_vm._e(),_vm._v(\" \"),(_vm.dataList.coupon_type == 2)?_c('button',{staticClass:\"btn\",class:{'disabled': _vm.disabled},attrs:{\"type\":\"button\",\"disabled\":_vm.disabled},on:{\"click\":function($event){$event.stopPropagation();return _vm.homeIndex($event)}}},[_vm._v(\"立即使用\\n          \")]):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"dec\"},[_vm._v(\"有效期:\"+_vm._s(_vm.dataList.start_time)+\"-\"+_vm._s(_vm.dataList.end_time))])]),_vm._v(\" \"),_c('div',{ref:\"detailBody\",staticClass:\"detail_body\"},[_c('div',{ref:\"bodyCont\",staticClass:\"body_cont\"},[_c('div',{staticClass:\"range\"},[_c('div',{staticClass:\"range_name\"},[_vm._v(\"使用范围：\")]),_vm._v(\" \"),_c('div',{staticClass:\"range_title\"},_vm._l((_vm.dataList.use_name),function(item,i){return _c('span',{key:i},[_vm._v(_vm._s(item)+\" \"),(i != _vm.dataList.use_name.length - 1)?_c('em',[_vm._v(\"、\")]):_vm._e()])}))]),_vm._v(\" \"),_c('div',{staticClass:\"explain\"},[_c('div',[_vm._v(\"使用说明：\"+_vm._s(_vm.dataList.descript))])])])])])])])]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-e6d4c6aa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./node_modules/_iview-loader@1.2.1@iview-loader??ref--0-1!./src/components/coupon/assembly/detailList.vue\n// module id = 8fXX\n// module chunks = 3 4","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e6d4c6aa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!../../../../node_modules/_iview-loader@1.2.1@iview-loader/index.js??ref--0-1!./detailList.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!../../../../node_modules/_iview-loader@1.2.1@iview-loader/index.js??ref--0-1!./detailList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!../../../../node_modules/_iview-loader@1.2.1@iview-loader/index.js??ref--0-1!./detailList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e6d4c6aa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!../../../../node_modules/_iview-loader@1.2.1@iview-loader/index.js??ref--0-1!./detailList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e6d4c6aa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/coupon/assembly/detailList.vue\n// module id = EoWS\n// module chunks = 3 4","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"title\",rawName:\"v-title\",value:(_vm.title),expression:\"title\"}],staticClass:\"coupon\"},[(_vm.UserCouponList.length != 0)?_c('div',[_c('ass-coupon',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],attrs:{\"infinite-scroll-disabled\":\"loading\",\"infinite-scroll-distance\":\"0\",\"dataList\":_vm.UserCouponList},on:{\"contentFn\":_vm.contentFn}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"footers\"},[_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"f_items\",on:{\"click\":_vm.Invalid}},[_vm._v(\"查看已失效的优惠券\")]),_vm._v(\" \"),_c('div',{staticClass:\"f_items\",on:{\"click\":_vm.Receive}},[_vm._v(\"领取更多优惠券\")])])]),_vm._v(\" \"),_c('detail-list',{attrs:{\"dataList\":_vm.detailData,\"isDetail\":_vm.isDetail},on:{\"isCloseDetail\":_vm.isCloseDetail,\"Immediate\":_vm.Immediate}}),_vm._v(\" \"),(_vm.UserCouponList.length == 0)?_c('noData'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-d3ce45fc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./node_modules/_iview-loader@1.2.1@iview-loader??ref--0-1!./src/components/coupon/coupon.vue\n// module id = KCL8\n// module chunks = 4","<template>\r\n  <div class=\"detailList\" v-if=\"isDetail\" @click.stop=\"isCloseDetail\">\r\n    <div class=\"detail_cont\">\r\n      <div class=\"content\" ref=\"detailItems\">\r\n        <div class=\"detail_item\" @click.stop>\r\n          <div class=\"header\" ref=\"headers\">\r\n            <h3 class=\"title\">{{dataList.title}}</h3>\r\n            <h1 class=\"prc\" v-if=\"dataList.coupon_type == 1\">￥{{dataList.meet_price}}<span>元</span></h1>\r\n            <h1 class=\"prc\" v-if=\"dataList.coupon_type == 2\">{{dataList.disc_price}}<span>折</span></h1>\r\n            <p class=\"subtraction\" v-if=\"dataList.coupon_type == 1\">满{{dataList.meet_price}}元减{{dataList.disc_price}}元</p>\r\n            <p class=\"subtraction\" v-if=\"dataList.coupon_type == 2\">满{{dataList.meet_price}}元打{{dataList.disc_price}}折</p>\r\n            <button class=\"btn\"\r\n                    type=\"button\"\r\n                    :disabled=\"disabled\"\r\n                    @click.stop=\"homeIndex\"\r\n                    v-if=\"dataList.coupon_type == 1\"\r\n                    :class=\"{'disabled': disabled}\"\r\n            >立即使用\r\n            </button>\r\n            <button class=\"btn\"\r\n                    type=\"button\"\r\n                    :disabled=\"disabled\"\r\n                    @click.stop=\"homeIndex\"\r\n                    v-if=\"dataList.coupon_type == 2\"\r\n                    :class=\"{'disabled': disabled}\"\r\n            >立即使用\r\n            </button>\r\n            <p class=\"dec\">有效期:{{dataList.start_time}}-{{dataList.end_time}}</p>\r\n          </div>\r\n          <div class=\"detail_body\" ref=\"detailBody\">\r\n            <div class=\"body_cont\" ref=\"bodyCont\">\r\n              <div class=\"range\">\r\n                <div class=\"range_name\">使用范围：</div>\r\n                <div class=\"range_title\">\r\n                  <span v-for=\"(item,i) in dataList.use_name\" :key=\"i\">{{item}} <em v-if=\"i != dataList.use_name.length - 1\">、</em></span>\r\n                </div>\r\n              </div>\r\n              <div class=\"explain\">\r\n                <div>使用说明：{{dataList.descript}}</div>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  export default {\r\n    name: \"detailList\",\r\n    props: {\r\n      dataList: {\r\n        type: [Array, Object],\r\n        default: {}\r\n      },\r\n      isDetail: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n\r\n    data() {\r\n      return {\r\n      }\r\n    },\r\n    computed:{\r\n      disabled(){\r\n        return this.dataList.status != 1\r\n      }\r\n    },\r\n    created() {\r\n    },\r\n    watch:{\r\n      isDetail(){\r\n        setTimeout(() => {\r\n          this.itemsH()\r\n        },500)\r\n\r\n        console.log('123456')\r\n      }\r\n    },\r\n    mounted() {\r\n      this.$nextTick(() => {\r\n        this.itemsH()\r\n      });\r\n      window.addEventListener('resize', this.itemsH)\r\n    },\r\n    methods: {\r\n      itemsH() {\r\n        console.log(this.$refs.detailItems)\r\n        if (this.$refs.detailItems != undefined && this.$refs.headers != undefined) {\r\n          let items_h = this.$refs.detailItems.offsetHeight;\r\n          let headers_h = this.$refs.headers.offsetHeight;\r\n          this.$refs.detailBody.style.maxHeight = items_h - headers_h + 'px'\r\n          this.$refs.bodyCont.style.height = items_h - headers_h - 20 + 'px'\r\n          console.log(items_h - headers_h)\r\n        }\r\n      },\r\n      isCloseDetail() {\r\n        this.$emit('isCloseDetail')\r\n      },\r\n      homeIndex(){\r\n        this.$router.push({\r\n          path: '/'\r\n        })\r\n      },\r\n      Immediate(item){\r\n        if (this.disabled) {\r\n          return\r\n        }\r\n        this.$emit('Immediate',item)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" type=\"text/stylus\" rel=\"stylesheet/stylus\">\r\n  $abs = 100%\r\n  .detailList\r\n    position: fixed\r\n    width $abs\r\n    height: $abs\r\n    background-color: rgba(0, 0, 0, .5)\r\n    top: 0\r\n    left: 0\r\n    bottom: 0;\r\n    right: 0\r\n    z-index: 9999;\r\n\r\n  .detail_cont\r\n    width 100%\r\n    height: 100%\r\n    position: relative\r\n    overflow: hidden;\r\n\r\n  .content\r\n    position: absolute\r\n    top: 5%\r\n    width: $abs;\r\n    height: 90%\r\n    overflow: hidden;\r\n\r\n  .detail_item\r\n    width 90%\r\n    height: auto\r\n    max-height 100%\r\n    position: absolute\r\n    left: 5%\r\n    top: 50%\r\n    overflow: hidden;\r\n    transform translate3d(0, -50%, 0)\r\n    background-color: #fff\r\n    border-radius 6px\r\n    z-index: 99999;\r\n    .header\r\n      text-align center\r\n      padding: 15px 0;\r\n      .title\r\n        font-size 16px\r\n      .prc\r\n        font-size 30px\r\n        color rgb(255, 139, 16)\r\n        margin: 8px auto;\r\n        vertical-align middle\r\n        span\r\n          font-size 24px\r\n          vertical-align middle\r\n      .subtraction\r\n        font-size 13px\r\n      .dec\r\n        font-size 13px\r\n      .btn\r\n        color white\r\n        font-size 14px\r\n        padding 10px 0\r\n        width 50%\r\n        border: none\r\n        display inline-block\r\n        background rgb(255, 139, 16)\r\n        margin: 10px auto;\r\n        outline: none\r\n        border-radius 0\r\n      .disabled\r\n        background-color: #888\r\n\r\n  .detail_body\r\n    width $abs\r\n    padding: 10px\r\n    border-top: 1px dotted #eee\r\n    overflow: hidden\r\n    width :95%\r\n    margin-left 2.5%\r\n    .body_cont\r\n      width: $abs;\r\n      height: $abs\r\n      overflow-y auto\r\n    .range, .explain\r\n      width $abs\r\n      overflow: hidden;\r\n      font-size 14px\r\n      padding: 5px 0 0;\r\n      line-height 22px\r\n      .range_name\r\n        width: 70px;\r\n        display: inline-block;\r\n        overflow: hidden;\r\n        float: left\r\n      .range_title\r\n        width calc(100% - 90px)\r\n        display: inline-block;\r\n        font-size 14px\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/coupon/assembly/detailList.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d3ce45fc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!../../../node_modules/_iview-loader@1.2.1@iview-loader/index.js??ref--0-1!./coupon.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!../../../node_modules/_iview-loader@1.2.1@iview-loader/index.js??ref--0-1!./coupon.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!../../../node_modules/_iview-loader@1.2.1@iview-loader/index.js??ref--0-1!./coupon.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d3ce45fc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!../../../node_modules/_iview-loader@1.2.1@iview-loader/index.js??ref--0-1!./coupon.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d3ce45fc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/coupon/coupon.vue\n// module id = baKV\n// module chunks = 4","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9d0dbb74\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!../../../../node_modules/_iview-loader@1.2.1@iview-loader/index.js??ref--0-1!./assCoupon.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!../../../../node_modules/_iview-loader@1.2.1@iview-loader/index.js??ref--0-1!./assCoupon.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!../../../../node_modules/_iview-loader@1.2.1@iview-loader/index.js??ref--0-1!./assCoupon.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9d0dbb74\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!../../../../node_modules/_iview-loader@1.2.1@iview-loader/index.js??ref--0-1!./assCoupon.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9d0dbb74\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/coupon/assembly/assCoupon.vue\n// module id = l/lM\n// module chunks = 3 4","<template>\r\n  <div class=\"coupon\" v-title=\"title\">\r\n    <div v-if=\"UserCouponList.length != 0\">\r\n      <ass-coupon\r\n        v-infinite-scroll=\"loadMore\"\r\n        infinite-scroll-disabled=\"loading\"\r\n        infinite-scroll-distance=\"0\"\r\n        :dataList=\"UserCouponList\"\r\n        @contentFn=\"contentFn\"></ass-coupon>\r\n    </div>\r\n    <div class=\"footers\">\r\n      <div class=\"box\">\r\n        <div class=\"f_items\" @click=\"Invalid\">查看已失效的优惠券</div>\r\n        <div class=\"f_items\" @click=\"Receive\">领取更多优惠券</div>\r\n      </div>\r\n    </div>\r\n    <detail-list\r\n      :dataList=\"detailData\"\r\n      :isDetail=\"isDetail\"\r\n      @isCloseDetail=\"isCloseDetail\"\r\n      @Immediate=\"Immediate\"\r\n    ></detail-list>\r\n    <noData v-if=\"UserCouponList.length == 0\"></noData>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import assCoupon from './assembly/assCoupon'\r\n  import DetailList from './assembly/detailList'\r\n  import noData from 'base/noData/noData'\r\n\r\n  export default {\r\n    name: \"coupon\",\r\n    data() {\r\n      return {\r\n        UserCouponList: [],\r\n        detailData: {},\r\n        isDetail: false,\r\n        title: '优惠券',\r\n        page: 1,\r\n        loading: false,\r\n      }\r\n    },\r\n    created() {\r\n      this.getUserCoupon();\r\n    },\r\n    mounted() {\r\n      this.$nextTick(() => {\r\n      })\r\n    },\r\n    methods: {\r\n      loadMore() {\r\n        this.more()\r\n      },\r\n      getUserCoupon() {\r\n        this.$axios.get('/user/index/user-coupon?page='+this.page)\r\n          .then(res => {\r\n            if (res.data.code == 2000) {\r\n              console.log(res.data);\r\n              if (this.UserCouponList.length === 0) {\r\n                this.UserCouponList = res.data.data.items\r\n              } else {\r\n                this.UserCouponList = this.UserCouponList.concat(res.data.data.items)\r\n              }\r\n              this.isHaveMore(res.data.data._meta.currentPage < res.data.data._meta.pageCount);\r\n            }\r\n          })\r\n      },\r\n      more(){\r\n        this.page = parseInt(this.page) + 1;\r\n        this.getUserCoupon()\r\n      },\r\n      isHaveMore(isHaveMore) {\r\n        if (isHaveMore) {\r\n          this.loading = false;\r\n        } else {\r\n          this.loading = true;\r\n        }\r\n      },\r\n      Invalid() {\r\n        this.$router.push({\r\n          path: '/couponList',\r\n          query: {\r\n            curIndex: 1\r\n          }\r\n        })\r\n      },\r\n      Receive() {\r\n        // layer.msg('暂未开放，敬请期待！')\r\n        this.$router.push({name:'Collar'})\r\n      },\r\n      contentFn(item) {\r\n        console.log(item.coupon_id);\r\n        this.$axios.get('/user/coupon/detail?id=' + item.id)\r\n          .then(res => {\r\n            console.log(res)\r\n            if (res.data.code == 2000) {\r\n              console.log(res.data.data);\r\n              this.detailData = res.data.data;\r\n              this.isDetail = true\r\n            }\r\n          })\r\n      },\r\n      isCloseDetail() {\r\n        this.isDetail = false\r\n      },\r\n      Immediate(item) {\r\n        console.log(item)\r\n      }\r\n    },\r\n    destroyed () {\r\n      window.removeEventListener('scroll', this.handleScroll)\r\n    },\r\n    components: {\r\n      assCoupon,\r\n      DetailList,\r\n      noData\r\n    }\r\n  }\r\n</script>\r\n\r\n\r\n<style scoped lang=\"stylus\" type=\"text/stylus\" rel=\"stylesheet/stylus\">\r\n  $abs = 100%\r\n  .ToLoadMore\r\n    width 100%\r\n    height: 45px\r\n    line-height 45px\r\n    font-size 16px\r\n    color #333\r\n    text-align center\r\n  .coupon\r\n    padding: 10px;\r\n    padding-bottom 50px\r\n  .footers\r\n    position: fixed\r\n    width $abs\r\n    height: 48px\r\n    line-height 48px\r\n    bottom: 0;\r\n    left: 0\r\n    border-top: 1px solid #ccc\r\n    background-color: #fff\r\n    z-index: 9999;\r\n    .box\r\n      width $abs\r\n      overflow: hidden;\r\n      .f_items\r\n        width 50%\r\n        float: left\r\n        text-align center\r\n        font-size 14px\r\n        cursor: pointer;\r\n        &:first-of-type\r\n          position: relative\r\n          &:after\r\n            content: ''\r\n            height 20px\r\n            width: 1px;\r\n            background #8D8D8D\r\n            position: absolute\r\n            top: 14px\r\n            right: 0\r\n        &:last-of-type\r\n          color rgb(138, 76, 237)\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/coupon/coupon.vue"],"sourceRoot":""}